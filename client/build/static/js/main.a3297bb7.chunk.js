(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},32:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(27),s=n.n(c),o=n(12),i=n(2),l=(n(32),n(0)),u=function(){var e=localStorage.getItem("user-info");return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"header",children:[sessionStorage.getItem("activeSession")?Object(l.jsxs)("div",{className:"logout-dropdown",children:[e&&e,Object(l.jsx)("a",{href:"/login",children:Object(l.jsx)("button",{className:"logout",onClick:function(){localStorage.clear(),sessionStorage.clear()},children:"Logout"})})]}):null,Object(l.jsx)("h1",{children:"Budget manager"})]})})},j=n(3),d=n.n(j),p=n(5),b=n(8),h=n(9),m=n(4),O=n(10),x=n.n(O),f=(n(26),function(){var e=Object(a.useState)({email:"",password:""}),t=Object(m.a)(e,2),n=t[0],r=t[1],c=function(e){var t,a=e.target,c=a.name,s=a.email,o=a.password,i=a.value;r(Object(h.a)(Object(h.a)({},n),{},(t={},Object(b.a)(t,c,i),Object(b.a)(t,s,i),Object(b.a)(t,o,i),t)))},s=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.post("http://localhost:3005/user/login",n);case 4:a=e.sent,localStorage.setItem("firstLogin",!0),localStorage.setItem("accessToken",a.data.accesstoken),localStorage.setItem("user-info",n.email),sessionStorage.setItem("activeSession","true"),window.location.href="/envelopes",e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.response.data.msg),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("form",{onSubmit:s,children:Object(l.jsxs)("fieldset",{className:"login",children:[Object(l.jsx)("legend",{children:"Login or Register"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(l.jsx)("input",{type:"email",name:"email",value:n.email,onChange:c,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",name:"password",value:n.password,onChange:c,className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})]}),Object(l.jsx)("button",{className:"btn-login",type:"submit",children:"Login"}),Object(l.jsx)(o.b,{to:"/register",children:"REGISTER"})]})})}),v=(n(53),function(){return Object(l.jsx)("div",{className:"footer",children:"BudgetManager @copyright 2021"})}),g=function(){var e=Object(a.useState)({name:"",email:"",password:""}),t=Object(m.a)(e,2),n=t[0],r=t[1],c=function(e){var t,a=e.target,c=a.name,s=a.email,o=a.password,i=a.value;r(Object(h.a)(Object(h.a)({},n),{},(t={},Object(b.a)(t,c,i),Object(b.a)(t,s,i),Object(b.a)(t,o,i),t)))},s=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.a.post("http://localhost:3005/user/register",n).then((function(e){return console.log(e.data)}));case 4:window.location.href="/login",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("form",{onSubmit:s,children:Object(l.jsxs)("fieldset",{className:"login",children:[Object(l.jsx)("legend",{children:"Register or Click Login"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",id:"name",name:"name",value:n.name,onChange:c,placeholder:"Enter your name",required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:c,placeholder:"Enter email",required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",id:"password",name:"password",value:n.password,onChange:c,placeholder:"Password",required:!0})]}),Object(l.jsx)("button",{className:"btn-login",children:"Register"}),Object(l.jsx)(o.b,{to:"/login",children:"LOGIN"})]})})},w=(n(54),n(14)),y=(n(55),function(e){var t=e.products,n=e.onClick;return t.map((function(e){return Object(l.jsxs)("div",{className:"products",children:[Object(l.jsx)("button",{className:"btn-delete",onClick:(t=e._id,function(e){n(e,t)}),children:"X"}),[e.name+":  "+e.amount+" $"]]},e.id+e.name);var t}))}),N=(n(56),function(e){var t=e.Create,n=e.Update,a=e.Transfer;return Object(l.jsxs)("div",{className:"transactions",children:[Object(l.jsxs)("form",{className:"update",onSubmit:n,children:["Update :",Object(l.jsx)("input",{type:"text",placeholder:"name"}),Object(l.jsx)("input",{type:"number",placeholder:"amount"}),Object(l.jsx)("input",{type:"text",placeholder:"description"}),Object(l.jsx)("button",{className:"btn-form",type:"submit",children:"Update"})]}),Object(l.jsxs)("form",{className:"create",onSubmit:t,children:["Create :",Object(l.jsx)("input",{type:"text",placeholder:"name"}),Object(l.jsx)("input",{type:"number",placeholder:"amount"}),Object(l.jsx)("button",{className:"btn-form",type:"submit",children:"Create"})]}),Object(l.jsxs)("form",{className:"transfer",onSubmit:a,children:["Transfer :",Object(l.jsx)("input",{type:"text",placeholder:"name from"}),Object(l.jsx)("input",{type:"number",placeholder:"amount"}),Object(l.jsx)("input",{type:"text",placeholder:"name to"}),Object(l.jsx)("button",{className:"btn-form",type:"submit",children:"Transfer"})]})]})}),k="https://www.budget-react-app.online";var S=function(){var e=Object(p.a)(d.a.mark((function e(t,n,a,r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("get"!==t){e.next=4;break}return e.abrupt("return",x.a[t]("".concat(k).concat(n),r));case 4:if("delete"!==t){e.next=7;break}return c=Object(h.a)(Object(h.a)({},r),{},{data:a}),e.abrupt("return",x.a[t]("".concat(k).concat(n),c));case 7:return e.abrupt("return",x.a[t]("".concat(k).concat(n),a,r));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:localStorage.getItem("accessToken")}},e.abrupt("return",S(t,n,a,r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),I="/envelopes",E={create:function(e){return C("post","".concat(I,"/create"),e)},fetch:function(){return C("get","".concat(I,"/get"))},update:function(e){return C("put","".concat(I,"/update"),e)},transfer:function(e){return C("put","".concat(I,"/transfer"),e)},deleteIt:function(e){return C("delete","".concat(I,"/update"),e)}},T=(n(57),function(e){var t=e.salaries,n=e.Add;return Object(l.jsxs)("div",{className:"salary",children:[Object(l.jsxs)("p",{children:["Your current salary is : ",[t.amount]," $ "]}),Object(l.jsxs)("form",{className:"salary-form",onSubmit:n,children:[Object(l.jsx)("input",{type:"number",placeholder:"Enter a salary here"}),Object(l.jsx)("button",{type:"submit",className:"btn-form",children:"Confirm"})]})]},t.id)}),P="/salary",D={create:function(e){return C("post","".concat(P,"/create"),e)},fetch:function(){return C("get","".concat(P,"/get"))},update:function(e){return C("put","".concat(P,"/update"),e)},deleteIt:function(e){return C("delete","".concat(P,"/update"),e)}},F=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),s=Object(m.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(!1),j=Object(m.a)(u,2),b=(j[0],j[1],0),h=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),n={amount:t.target[0].value},e.next=5,D.create(n);case 5:a=e.sent,i(a.data),console.log(o),t.target[0].value="";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),a={name:t.target[0].value,amount:t.target[1].value},e.next=5,E.create(a);case 5:c=e.sent,r([].concat(Object(w.a)(n),[c.data])),t.target[0].value="",t.target[1].value="";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),a={name:t.target[0].value,transaction:t.target[1].value,description:t.target[2].value},e.next=5,E.update(a);case 5:e.sent,r(Object(w.a)(n)),t.target[0].value="",t.target[1].value="",t.target[2].value="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),a={nameFrom:t.target[0].value,transaction:t.target[1].value,nameTo:t.target[2].value},e.next=5,E.transfer(a);case 5:e.sent,r(Object(w.a)(n)),t.target[0].value="",t.target[1].value="",t.target[2].value="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.next=4,E.deleteIt({id:a});case 4:e.sent,r(Object(w.a)(n.filter((function(e){return e._id!==a}))));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.fetch();case 3:t=e.sent,i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.fetch();case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),e()}),[]),n.map((function(e){return b+=e.amount}));var g=o.amount-b;return Object(l.jsxs)("div",{className:"salary-previsions",children:[Object(l.jsx)(T,{salaries:o,Add:h}),g<100?Object(l.jsx)("h3",{className:"red",children:"Alert Budget, your saving is low"}):"",g<100?Object(l.jsx)("h3",{className:"red",children:"Your Saving"}):Object(l.jsx)("h3",{className:"green",children:"Your Saving"}),Object(l.jsxs)("div",{className:"previsions",children:[Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"MONTH previsions"})})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:[g," $"]})})})]}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"3 MONTHS previsions"})})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:[3*g," $"]})})})]}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"6 MONTHs previsions"})})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:[6*g," $"]})})})]}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"YEAR previsions"})})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:[12*g," $"]})})})]})]}),Object(l.jsx)("div",{className:"total",children:Object(l.jsxs)("p",{children:["Total Budget: ",b," $"]})}),Object(l.jsx)(y,{products:n,onClick:v}),Object(l.jsx)(N,{Create:O,Update:x,Transfer:f})]})};var $=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/",exact:!0,element:Object(l.jsx)(g,{})}),Object(l.jsx)(i.a,{path:"/envelopes",element:Object(l.jsx)(F,{})}),Object(l.jsx)(i.a,{path:"/login",exact:!0,element:Object(l.jsx)(f,{})}),Object(l.jsx)(i.a,{path:"/register",exact:!0,element:Object(l.jsx)(g,{})})]}),Object(l.jsx)(v,{})]})})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)($,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.a3297bb7.chunk.js.map